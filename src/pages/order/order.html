<!--
  Generated template for the Order page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="nav">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Orders</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-list>
    <ion-item-sliding *ngFor="let order of orderList | async | reverse">
      <button ion-item (click)="viewOrderDetail(order.$key)">
      <h2>
        {{order.orderTime | date: 'dd/MM/yyyy HH:mm'}}
        </h2>
        <p>
          Amount: Rs. {{order.amount}}
        </p>
      <p>
        Status: {{order.status.state}}
      </p>
    </button>
      <ion-item-options slide="right" *ngIf='order.status.state == "Pending" '>
        <button ion-button color="danger" (click)="CancelOrder(order.$key)">
        <ion-icon name="close"></ion-icon>
        Cancel Order
      </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
  <div *ngIf="(orderList | async)?.length == 0" text-center class="center">
    <h2>
      Sorry, you have not placed any orders yet.
    </h2>
  </div>
</ion-content>